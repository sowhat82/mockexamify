{
  "permissions": {
    "allow": [
      "Bash(streamlit run:*)",
      "Bash(python:*)",
      "Bash(pip install:*)",
      "Bash(pre-commit:*)",
      "Bash(dir:*)",
      "Bash(echo:*)",
      "Bash(echo \"- ENVIRONMENT=development (currently: $ENVIRONMENT)\")",
      "Bash(netstat:*)",
      "Bash(tasklist)",
      "Bash(findstr:*)",
      "Bash(taskkill:*)",
      "Bash(find:*)",
      "Bash(streamlit:*)",
      "Bash(curl:*)",
      "Bash(cat:*)",
      "Bash(del \"c:\\Users\\alvin\\OneDrive\\Code\\GPT Agents\\New folder\\.streamlit\\config.toml\")",
      "Bash(git checkout:*)",
      "Bash(git reset:*)",
      "Bash(git log:*)",
      "Bash(Get-Process python)",
      "Bash(Stop-Process -Force)",
      "Bash(git merge:*)",
      "Bash(git push:*)",
      "Bash(python3 -m pip install:*)",
      "Bash(bash:*)",
      "Bash(SQL_FILE=migrations/fix_admin_pool_questions_access.sql source venv/bin/activate:*)",
      "Bash(source:*)",
      "Bash(SQL_FILE=migrations/fix_admin_pool_questions_access.sql python apply_supabase_sql.py:*)",
      "Bash(env)",
      "Bash(pkill:*)",
      "Bash(chmod:*)",
      "Bash(git add:*)",
      "Bash(git commit -m \"$(cat <<''EOF''\nfeat: Add service role key support and fix admin question pool access\n\nMajor improvements to admin functionality and mobile workflow:\n\nBackend Changes:\n- Add SUPABASE_SERVICE_KEY support to config.py for admin operations\n- Create admin_client in db.py that bypasses RLS policies\n- Update question pool methods to use admin_client for proper access\n- Fix admin dashboard to display all pool questions correctly\n\nDatabase & RLS:\n- Applied RLS migration for admin access to pool_questions table\n- Separate policies for regular users (active pools only) and admins (all pools)\n- Bulk deleted 36 corrupted questions (Q50-Q85) from CACS Paper 2 pool\n- Pool now has 49 clean, working questions\n\nMobile Workflow Fixes:\n- Update devcontainer.json port forwarding for better mobile experience\n- Change port 8501 to openBrowser mode for external Chrome access\n- Add helpful scripts: get_app_url.sh, open_app.html for mobile bookmarking\n- Fix white screen issues on mobile Codespaces\n\nDocumentation & Tools:\n- Comprehensive fix guides: ADD_SERVICE_KEY.md, MOBILE_CODESPACE_FIX.md\n- Investigation tools: diagnose_pool_questions.py, investigate_question_choices.py\n- Bulk management: bulk_delete_corrupted_questions.py, check_upload_batch.py\n- ChatGPT agent prompts for guided fixes\n- Mobile Chrome guide for seamless mobile workflow\n\nü§ñ Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(git commit:*)",
      "Bash(python3:*)",
      "Bash(SQL_FILE=migrations/add_attempt_pro_rata_fields.sql python apply_supabase_sql.py:*)"
    ],
    "deny": [],
    "ask": []
  },
  "hooks": {
    "UserPromptSubmit": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "if grep -qE '(def |class |import |from |streamlit|st\\.|pages/|db\\.py|auth|login)' $EDITED_FILES 2>/dev/null; then echo '\n‚ö†Ô∏è  REMINDER: Significant code changes detected. Consider running regression tests:\n- Quick validation: python run_tests.py --suite quick\n- Full regression: python run_tests.py --suite regression\n- Critical only: python run_tests.py --suite critical'; fi"
          }
        ]
      }
    ]
  }
}
